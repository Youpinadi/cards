<!DOCTYPE html>
<html>
<head>
    <title>Cards</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <link rel="stylesheet" href="css/main.css" type="text/css" charset="utf-8"/>
</head>
<body>

<div class="card spades" data-rank="1"></div>
<div class="card hearts" data-rank="2"></div>
<div class="card clubs" data-rank="3"></div>
<div class="card clubs" data-rank="4"></div>
<div class="card spades" data-rank="5"></div>
<div class="card hearts" data-rank="6"></div>
<div class="card clubs" data-rank="7"></div>
<div class="card clubs" data-rank="8"></div>
<div class="card clubs" data-rank="9"></div>
<div class="card spades" data-rank="10"></div>
<div class="card spades" data-rank="j"></div>
<div class="card spades" data-rank="q"></div>
<div class="card spades" data-rank="k"></div>


<script>
$('.card').each(transform);

function transform()
{
    $card = $(this);
    var value = $card.data('rank');
    var suit = null;
    if ($card.hasClass('spades')) suit = 'spades';
    if ($card.hasClass('hearts')) suit = 'hearts';
    if ($card.hasClass('diams')) suit = 'diams';
    if ($card.hasClass('clubs')) suit = 'clubs';

    $card.append('<div class="mini top_left"/>')
        .append('<div class="mini bottom_right"/>');


    $cont = $('<div class="cont"/>').appendTo($card);
    for (var i = 0; i < 10; i++)
    {
        $cont.append('<div class="suit"><span></span></div>')
    }
}

$('body').on('click', '.card', onCardClicked);


setInterval(autoClickCard, 1500);

function autoClickCard()
{
    var rand_num = Math.floor(Math.random() * $('.card').size());
    $('.card').eq(rand_num).click();
}


function onCardClicked()
{
    if (!$(this).hasClass('zoom'))
    {
        $('.card').removeClass('zoom');
    }

    var ranks = [1,2,3,4,5,6,7,8,9,10,'j','q','k'];
    $(this).attr('data-rank', ranks[Math.ceil(Math.random() * ranks.length - 1)] );


    $(this).toggleClass('zoom');
}

</script>



</body>
</html>
